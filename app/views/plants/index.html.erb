<div class="container text-center mt-3">
  <h1>All Plants</h1>

  <div id="map"
       style="width: 100%; height: 400px; margin: 20px;"
       data-markers="<%= @markers.to_json %>"
       data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>

  <div class="cards d-flex flex-wrap justify-content-around">
    <% @plants.each do |plant| %>
      <div class="card mb-5" style="width: 18rem">
          <div class="card-body">
            <h3 class="card-title"><%= plant.name.capitalize %></h3>
             <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                  <% plant.photos.each_with_index do |photo, index| %>
                    <div class="carousel-item <%= 'active' if index == 0 %>">
                       <%= cl_image_tag photo.key, height: 400, width: 300, crop: :fill %>
                    </div>
                   <% end %>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          <h5 class="card-title"><%= plant.category.capitalize %></h5>
          <h5 class="card-title">Â£<%= plant.price %> a day</h5>
          <%= link_to 'Choose plant', plant_path(plant), class: "btn btn-green" %>
        </div>
      </div>
    <% end %>
  </div>
</div>


